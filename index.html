<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Acceso - Guardianes de Lía</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
<style>
  * { box-sizing: border-box; }
  body {
    font-family: 'Cinzel', serif;
    margin: 0;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    color: #fff;
    background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://guardianesdelia.world/lia-fondo.jpg') no-repeat center center fixed;
    background-size: cover;
    overflow: hidden;
  }
  body::before {
    content: "";
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.5);
    backdrop-filter: blur(4px);
    z-index: 0;
  }
  .panel {
    position: relative;
    z-index: 1;
    background: rgba(20, 20, 20, 0.85);
    padding: 40px;
    border-radius: 12px;
    max-width: 380px;
    width: 90%;
    text-align: center;
    box-shadow: 0 0 30px rgba(255, 215, 0, 0.4);
  }
  h1 { font-size: 2.2em; color: #ffd700; margin-bottom: 0.5em; text-shadow: 0 0 12px rgba(255, 215, 0, 0.8); }
  p { font-size: 1.05em; margin-bottom: 1.5em; color: #ccc; }
  input, button { display: block; margin: 10px auto; width: 100%; padding: 12px; font-size: 1em; border: none; border-radius: 6px; }
  input { background: rgba(255,255,255,0.15); color: #fff; border: 1px solid #888; }
  input::placeholder { color: #ddd; }
  button { background: #ffd700; color: #000; font-weight: bold; cursor: pointer; transition: background 0.3s, transform 0.2s; }
  button:hover { background: #e6c200; transform: scale(1.05); }
  hr { margin: 25px 0; border: none; border-top: 1px solid #444; width: 80%; }
</style>
</head>
<body>

<div class="panel">
  <h1>Bienvenido Guardián</h1>
  <p>Regístrate o entra como anónimo para cruzar el Umbral</p>

  <input type="text" id="username" placeholder="Usuario">
  <input type="password" id="password" placeholder="Contraseña">
  <button onclick="register()">Registrarse</button>
  <button onclick="login()">Iniciar sesión</button>
  <hr>
  <button onclick="loginAnon()">Entrar como Anónimo</button>
</div>

<script>
function register() {
  const user = document.getElementById('username').value.trim();
  const pass = document.getElementById('password').value.trim();
  if (!user || !pass) return alert("Completa usuario y contraseña");
  const users = JSON.parse(localStorage.getItem('users') || '{}');
  if (users[user]) return alert("Usuario ya existe");
  users[user] = { password: pass, achievements: [], bookmarks: [] };
  localStorage.setItem('users', JSON.stringify(users));
  localStorage.setItem('currentUser', user);
  alert("Registrado con éxito");
  window.location.href = `https://guardianesdelia.world/guardianesdelia-acceso/?user=${encodeURIComponent(user)}`;
}

function login() {
  const user = document.getElementById('username').value.trim();
  const pass = document.getElementById('password').value.trim();
  const users = JSON.parse(localStorage.getItem('users') || '{}');
  if (!users[user] || users[user].password !== pass) return alert("Credenciales inválidas");
  localStorage.setItem('currentUser', user);
  window.location.href = `https://guardianesdelia.world/guardianesdelia-acceso/?user=${encodeURIComponent(user)}`;
}

function loginAnon() {
  localStorage.setItem('currentUser', '_anon');
  window.location.href = `https://guardianesdelia.world/guardianesdelia-acceso/?user=anonimo`;
}
</script>

</body>
</html>
